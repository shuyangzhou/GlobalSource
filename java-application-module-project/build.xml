<?xml version="1.0" encoding="UTF-8"?>
<project name="Liferay-Source-Netbeans-Project" default="build" basedir="." xmlns:ivy="antlib:org.apache.ivy.ant">

	<import file="../common/shared-macrodefs.xml" />

	<target name="build">
		<for list="${portal.dirs}" param="portal.dir">
			<sequential>
				<local name="portal.name" />
				<basename property="portal.name" file="@{portal.dir}" />

				<build-modules
					portal.dir="@{portal.dir}"
					project.dir="${project.dir}/${portal.name}"
				/>
			</sequential>
		</for>
	</target>

	<target name="clean">
		<for list="${portal.dirs}" param="portal.dir">
			<sequential>
				<local name="portal.name" />
				<basename property="portal.name" file="@{portal.dir}" />

				<clean project.dir="${project.dir}/${portal.name}" />
			</sequential>
		</for>
	</target>
</project>
